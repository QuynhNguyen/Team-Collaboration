// Generated by CoffeeScript 1.3.3
(function() {
  var getProject, getProjectList, postProject, projectSchema, restify, server;

  restify = require('restify');

  projectSchema = require('./schema/Project.js');

  server = restify.createServer();

  postProject = function(req, res, next) {
    var project, projectName;
    projectName = req.params.name;
    project = new projectSchema.Project(projectName);
    return project.save(res);
  };

  getProjectList = function(req, res, next) {
    var project;
    project = new projectSchema.Project();
    return project.getProjectList(res);
  };

  getProject = function(req, res, next) {
    var project, projectName;
    projectName = req.params.name;
    project = new projectSchema.Project();
    return project.getProject(res, projectName);
  };

  server.post('/projects/:name', postProject);

  server.get('/projects', getProjectList);

  server.get('/projects/:name', getProject);

  server.listen(8080, function() {
    return console.log("listening to server " + server.name + ", " + server.url);
  });

}).call(this);
